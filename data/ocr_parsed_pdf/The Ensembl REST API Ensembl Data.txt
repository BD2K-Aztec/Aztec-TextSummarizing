BIOINFORMA TICS

0'so;112u110}u101q//2duq

SIBumoprOJX

£10"

A.Yates et al.

 

Required parameters are embedded within the URL. In our
ﬁrst example, ENSP00000439902 was a required parameter.
Optional parameters are speciﬁed as simple ‘key = value’, pairs
appended to a URL. Whenever possible, the server infers par—
ameters from others. For example, species is determined from an
Ensembl gene or a transcript stable ID. HTTP headers can be
used to control the output format or enable on—the—ﬂy gzip com—
pression. Each endpoint emits four output formats: JSON,
XML, YAML and JSON—P in addition to formats such as
PhyloXML (Han and Zmasek, 2009).

Clients are rate limited on our public REST server to 15 re—
quests per second, i.e. 54 000 requests per hour. To enable users
to manage this or any future limits, each call to the REST server
returns a number of HTTP response headers describing the IP
address’s current limits and how long before this limit resets.
Once exceeded, a Retry—After header is sent back, and the
client is expected to sleep for this period before making a new
request.

All endpoints are accompanied by automatically generated
documentation available from http://rest.ensembl.org. Each
page details parameters with brief descriptions and example
values. Example URLs are shown alongside their output and
example clients. These clients are written in popular program—
ming languages, such as Python, Perl and Ruby. A higher—level
user guide detailing version migration guides, best practices and
more advanced clients is also provided at https://github.com/
Ensembl/ensembl—rest/wiki.

2.2 Large-scale variant annotation

During our beta phase for the REST API, we observed signiﬁ—
cant trafﬁc coming from requests to the VEP endpoint and
annotating human variation. In fact, we noticed single IP
addresses sending ~3 million requests to the VEP endpoint,
which we interpreted as full annotation of human variomes.
This process is inefﬁcient: using HTTP GET and rate limited
to 15 requests per second, it would take 2.3 days annotate a
human variome.

In response to this use case, we extended the Ensembl REST
API to allow the submission of up to 1000 variants in a single
HTTP POST. Adoption of VEP’s ofﬂine cache files enables
our service to annotate large quantities of variants without
exceeding HTTP time—outs. Benchmarking (Table 1) has shown
annotation rates of ~1000 variants per second for a single
sample (HG00096) extracted from 1000 Genomes Phase 1
data (The 1000 Genomes Project Consortium, 2012). Analysis
of a human variome within an hour is feasible using our public
server.

3 DISCUSSION

The Ensembl REST API can be used to query the Ensembl data
resources and tools from a variety of programming languages
and enables ﬁexible programmatic access previously only
supported by our Perl API. The reduced setup costs for a
client means that users can interact with the latest Ensembl
data without the need to follow our regular API releases.
Supporting POST requests for VEP enables the annotation of
large—scale variation datasets without the need to download or

Table 1. Benchmarking 3.5 million non-synonymous single nucleotide
variants from three Amazon Elastic Compute Cloud (EC2) locations

 

EC2 location Elapsed time (s) Variants per second

 

Ireland 3631 946.66
VA, USA 3508 998.59
Singapore 5385 652.45

 

Benchmarks are averaged over three runs with a single Perl program with nine
concurrent connections.

host the VEP code or cache files. HTTP has also proven a more
robust data protocol when compared with MySQL improving
user experience for worldwide users.

A number of native third—party APIs have been developed to
help access the REST API in languages such as Python, R and
JavaScript, which demonstrates the usefulness of our REST API
to these increasingly popular bioinformatics languages.
JavaScript applications such as Wasabi (http://wasabiapp.org)
import Ensembl Gene Trees and genome multiple sequence
alignments via REST creating a seamless link between tool and
data. RNACentral (Bateman et al., 2011) displays non—coding
gene models alongside Ensembl annotation in Genoverse (http://
genoverse.org/), a HTML5 genome browser, using data from our
REST API.

REST has shown itself to be a sustainable model for the
distribution of genomic data to multiple programming
languages. We plan to expand the coverage of Ensembl data
and tools hosted in it. We also plan to provide more formats
from the service such as VCF output from our VEP endpoint.
We will continue to work with tool developers to ensure the
service is suitable for their purposes.

ACKNOWLEDGEMENTS

The authors thank Glenn Proctor and Monika Byrne for their
work on earlier REST API versions, Daniel Zerbino for his help
in reviewing this paper and the Ensembl team at EMBL—EBI.

Funding: This work was supported by The Wellcome Trust
(WT095908) and the European Molecular Biology Laboratory.
G.R.S.R. is supported by European Molecular Biology Labora—
tory and the Sanger Institute via an EBI—Sanger Postdoctoral
Fellowship.

Conﬂict of interest: none declared.

REFERENCES

Bateman,A. et ul. (2011) RNAcentral: a Vision for an international database of
RNA sequences. RNA, 17, 194171946.

Down,T.A. et ul. (2011) Dalliance: interactive genome Viewing on the web.
Bioinfommticx, 27, 8897890.

Fielding,R.T. (2000) Architectural styles and the design of network—based software
architectures. PhD Thesis. University of California, Irvine, Information and
Computer Science Department.

Flicek,P. et ul. (2014) Ensembl 2014. Nucleic Acids Re.\'., 42, D7497D755.

Gentleman,R.C. et ul. (2004) Bioconductor: open software development for com—
putational biology and bioinformatics. Genome Biol, 5, R80.

 

144

ﬁm'spzumofpmﬂo'sopnuuopuorq/ﬁdnq

The Ensembl REST API

 

Han,M.V. and Zmasek,C.M. (2009) phyloXML: XML for evolutionary biology
and comparative genomics. BMC Bioiiy’ormuticx, 10, 356.

Jenkinson,A.M. et ul. (2008) Integrating biological dataithe Distributed
Annotation System. BM C Bioiiy’ormuticx, 9 (Suppl 8), S3.

Kinsella,R.J. et ul. (2011) Ensembl BioMarts: a hub for data retrieval across taxo—
nomic space. Dutubm‘e, 2011, bar030.

McLaren,W. et ul. (2010) Deriving the consequences of genomic variants with the
Ensembl API and SNP Effect Predictor. Bioinformuticx, 26, 206972070.

McWilliam,H. et ul. (2013) Analysis tool web services from the EMBL—EBI. Nucleic
Acids Re.\'., 41, W5977W600.

The 1000 Genomes Project Consortium. (2012) An integrated map of genetic
variation from 1,092 human genomes. Nature, 491, 5&65.

 

145

/810'sleum0prOJxo'sopBLuJOJuioiq”:duq

