APPLICATIONS NOTE V°"3333:1233/Zsiiiﬁaﬁﬁg?

 

Genome analysis

Advance Access publication November 13, 2013

Track data hubs enable visualization of user-defined
genome-wide annotations on the UCSC Genome Browser

Brian J. Raney‘, Timothy R. Dreszer‘, Galt P. Barber‘, Hiram Clawsonl, Pauline A. Fujita‘,
Ting Wang2, Ngan Nguyenl, Benedict Patenl, Ann S. Zweigl, Donna Karolchik1 ’* and

W. James Kent1

1Center for Biomoleoular Science and Engineering, School of Engineering, University of California Santa Cruz, Santa
Cruz, CA 95064, USA and 2Department of Genetics, Center for Genome Sciences and Systems Biology, Washington

University School of Medicine, St. Louis, MO 63108, USA

Associate Editor: Michael Brudno

 

ABSTRACT

Summary: Track data hubs provide an efficient mechanism for visua-
lizing remotely hosted Internet-accessible collections of genome an-
notations. Hub datasets can be organized, configured and fully
integrated into the University of California Santa Cruz (UCSC)
Genome Browser and accessed through the familiar browser inter-
face. For the first time, individuals can use the complete browser fea-
ture set to view custom datasets without the overhead of setting up
and maintaining a mirror.

Availability and implementation: Source code for the BigWig,
BigBed and Genome Browser software is freely available for non-
commercial use at http://hgdown|oad.cse.ucsc.edu/adminﬁksrczip,
implemented in C and supported on Linux. Binaries for the BigWig
and BigBed creation and parsing utilities may be downloaded at http://
hgdownload.cse.ucsc.edu/admin/exe/. Binary Alignment/Map (BAM)
and Variant Call Format (VCF)/tabix utilities are available from http://
samtools.sourceforge.net/ and http://vcftoo|s.sourceforge.net/. The
UCSC Genome Browser is publicly accessible at http://genome.
ucsc.edu.

Contact: donnak@soe.ucsc.edu

Received on August 17, 2013; revised on October 17, 2013; accepted
on October 29, 2013

1 INTRODUCTION

The widespread use of high-throughput sequencing technology
has challenged the capabilities of genomic data Visualization
tools as the volume and size of genome-wide datasets outpace
the capacity of existing browsing technology. In response, the
University of California Santa Cruz (UCSC) has repeatedly ex-
tended its popular genome-browsing tool, the UCSC Genome
Browser (Kent et al., 2002; Meyer et al., 2013), to offer increased
Visualization of remotely hosted large datasets.

In recent years, UCSC added browser support for four com-
pressed binary indexed data formats: BigBed and BigWig (Kent
et al., 2010), both developed at UCSC, Binary Alignment/Map
(BAM) (Li et al., 2009) and Variant Call Format (V CF)/tabix
(Danacek et al., 2011). This allowed individuals to quickly and
efﬁciently View and share genome-wide data hosted on their own

 

*To whom correspondence should be addressed.

local servers using the browser’s well-established custom track
mechanism. However, the limited conﬁguration and organiza-
tion options imposed by custom tracks presented a barrier to
full integration of large datasets into the browser, leading
many research groups to set up mirrors to Visualize their tracks
in a full local instance of the browser. Mirrors pose their own
drawbacks: they tend to have limited Visibility and distribution
within the research community and incur a local maintenance
overhead.

To circumvent these limitations, UCSC has introduced support
for ‘track data hubs’, Internet-accessible collections of genome
annotations that can be Viewed on the UCSC Genome Browser
alongside native annotation tracks (Dreszer et al., 2012). Track
data hubs provide the power and ﬂexibility to organize, conﬁgure
and fully integrate one or more large datasets into the browser and
allow efﬁcient worldwide access to the data through the familiar
Genome Browser interface. Individuals experienced in setting up
Genome Browser mirrors will ﬁnd that setting up a track data hub
is much easier. Depending on the number and complexity of the
datasets, a track data hub typically can be set up in a day or two.

Like the Distributed Annotation System (DAS) (Dowell et al.,
2001), track data hubs provide access to annotation over the
Internet, but they differ in that the server hosting a track data
hub requires only HTTP access instead of a dedicated DAS
server. In contrast to the extensible mark-up language format
of DAS, which may be easier for a simple application to
access, track data hubs present data in the native format of the
data ﬁles with a rich set of options for controlling how that data
should displayed. Although this requires more complicated logic
on the client end to parse and display, it offers the data contribu-
tor more options for conﬁguring and presenting the data.

Track data hub annotations are stored at the remote site as com-
pressed binary indexed ﬁles. When a hub track is displayed in the
Genome Browser, only the relevant data needed to support the
View of the current genomic region are transmitted to UCSC,
rather than the entire ﬁle. The transmitted data are cached on a
UCSC server to expedite future access. This on—demand transfer
mechanism eliminates the need to transmit large datasets across
the Internet, thereby minimizing upload time into the browser.

Hub tracks are displayed in a separate track group below the
browser image and can be conﬁgured and manipulated in the
same fashion as native tracks. They can be incorporated into

 

© The Author 2013. Published by Oxford University Press.

This is an Open Access article distributed under the terms of the Creative Commons Attribution License (http://creativecommons.org/Iicenses/by/3.0/), which
permits unrestricted reuse, distribution, and reproduction in any medium, provided the original work is properly cited.

112 ﬂJO'smumo[pJOJXO'sopchoguroiq/ﬁd11q IIIOJJ popcolumoq

910K ‘09 lsnﬁnV no :2

B.J.Raney et al.

 

browser sessions and custom tracks in the same manner as other
tracks, and the underlying data can be Viewed, manipulated and
downloaded using the UCSC Table Browser (Karolchik et al.,
2004).

2 IMPLEMENTATION

Complete information about setting up a track data hub is avail-
able at http://genome.ucsc.edu/goldenPath/help/hgTrackHub
Help.html. A hub requires three components: one or more
datasets formatted in a compressed binary format supported
by the Genome Browser, a set of text ﬁles that specify properties
for the track data hub and for each of the data tracks within it
and a server with Internet access to host the data and text ﬁles.
The data ﬁles underlying a track do not have to reside in the
same track hub directory or server as the text ﬁles, but they must
be accessible through the Internet.

The Genome Browser currently supports the compressed
binary formats BigWig, BigBed, BAM and VCF/tabix, described
in detail at http://genome.ucsc.edu/FAQ/FAQformat.html. The
Linux binaries needed to set up a track data hub are provided by
UCSC at http://hgdownload.cse.ucsc.edu/admin/exe/ .

The BigWig format is ideal for Viewing continuous value plot
data, such as read depths from short read sequencing projects or
levels of conservation observed in a multiple-species alignment.
BigWig ﬁles contain lists of chromosome segments that may be
displayed as a bar or line graph. Although each BigWig ﬁle
contains only a single value for any given base, BigWig tracks
are often combined into a ‘multiWig’ display that allows multiple
BigWig ﬁles to be overlaid on the same axis.

BigBed format, which is the binary indexed version of browser
extensible data format, is useful for associating a name and (op-
tionally) a color, a score and additional user-deﬁned data with
one or more related regions on the same chromosome, such as all
the exons of a gene.

BAM ﬁles, binary versions of Sequence Alignment/Map
(SAM) format ﬁles, consist of alignments of DNA reads (gener-
ally short) to a reference sequence, usually a complete genome.
Unlike BigWig and BigBed formats, the BAM ﬁle index is con-
tained in a separate .bai ﬁle in the same directory and with the
same root ﬁle name.

VCF ﬁles can contain annotations of single nucleotide vari-
ants, insertions/deletions, copy number variants, structural vari-
ants or other types of genomic variation. They must be
compressed and indexed using tabix (http://sourceforge.net/pro-
jects/samtools/ﬁles/tabix/). Like BAM index ﬁles, the separate
tabix-formatted .tbi index ﬁle must be included in the same dir-
ectory as the compressed VCF ﬁle and must have the same root
ﬁle name.

In addition to the data ﬁles, each track data hub requires a
directory containing a minimum of three text ﬁles: a hub.txt ﬁle
that deﬁnes the labels used to describe the hub, a genomestxt ﬁle
that describes the assemblies supported by the hub and a
tracka.txt ﬁle that describes the data ﬁles and deﬁnes their
display attributes.

The tracka.txt ﬁle, which is based on the Genome Browser
.ra format, is the most complex of the text ﬁles in the hub dir-
ectory. It contains a collection of stanzas, one for each data ﬁle
in a given assembly, that deﬁne the display and conﬁguration

properties for each track or group of tracks (in the case of com-
posite or super-tracks). The Track Database Deﬁnition docu-
ment (http: / / genome.ucsc.edu/ goldenPath/ help /tracka /track
DbHub.html) provides details about how to declare the dataset
display settings and values used in tracka.txt.

Optionally, each track in the hub may also have an HTML-
formatted description ﬁle that provides detailed information
about the data, such as the methods used to produce and validate
the data, background information, display conventions, acknow-
ledgments and reference publications.

Once constructed, a track data hub can be imported into the
Genome Browser for Viewing by entering the URL of the hub.txt
ﬁle on the ‘My Hubs’ tab of the track data hubs web page (http://
genome.ucsc.edu/cgi-bin/thubConnect). The Genome Browser
track data hub import utility supports Internet protocols such as
http://, https://, and (less efﬁciently) ftp://, as well as ﬁle paths
relative to the hub directory hierarchy.

A track data hub may be shared with others by providing the
URL of the hub.txt ﬁle needed to load the hub. Hubs of general
interest to the research community can be registered at UCSC for
sharing on the Genome Browser Web site by contacting the
browser technical support mailing list at genome@soe.ucsc.edu
(include the URL of the hub.txt ﬁle in the message). Links to
registered shared hubs may be found on the ‘Public Hubs’ tab on
the Genome Browser track data hubs web page (http://genome.
ucsc.edu/cgi-bin/thubConnect).

3 CONCLUSIONS

Track data hubs provide a convenient efﬁcient mechanism for
importing collections of large personal datasets into the UCSC
Genome Browser for browsing, analysis and sharing with the
research community. We are working with other genomics
tools providers, such as Ensembl (Flicek et al., 2013), to stand-
ardize the track data hub interface and add support for
hub displays on other genome-browsing platforms. Future
plans include extending the browser’s track search mechanism
to work with hubs, expanding the ﬂexibility of track data
hub organization and conﬁguration in the browser, providing
more sample ﬁles and a wizard program to facilitate track data
hub construction and adding support for more data types.
Recently UCSC has also added support for assembly data
hubs, which enable individuals to easily extend the Genome
Browser to display genome assemblies not included in the
browser database.

ACKNOWLEDGEMENTS

The authors would like to thank the many Genome Browser
users and collaborators who provided support, feedback and
suggestions during the development of track data hubs.

Funding: National Human Genome Research Institute (grant
numbers P41HGOO2371, U41HGOO4568 to BK, T.D., G.B.,
H.C., P.J., N.N., A.S.Z., D.K. and WK); National Institutes
of Health (grant numbers U01ESOl7154, R01HGOO7354 to
T.W.); and Dr and Mrs Gordon Ringold (to BB).

Conﬂict of interest: none declared.

 

1004

112 [glO'SIBILInO[plOJXO'SODBIILIOJHIOIQ/[ldllq IIIOJJ popcolumoq

910K ‘09 lsnﬁnV no :2

UCSC Genome Browser track data hubs

 

REFERENCES

Danacek,P. et al. (2011) The variant call format and VCF tools. Bioinformatics, 27,
2156—2158.

Dowell,R.D. et al. (2001) The distributed annotation system. BM C Bioinformatics,
2, 7.

Dreszer,T.R. et al. (2012) The UCSC Genome Browser database: extensions and
updates 2011. Nucleic Acids Res., 40, D918—D923.

Flicek,P. et al. (2013) Ensembl 2013. Nucleic Acids Res., 41, D48—D55.

Karolchik,D. et al. (2004) The UCSC Table Browser data retrieval tool. Nucleic
Acids Res, 32, D493—D496.

Kent,W.J. et al. (2002) The human genome browser at UCSC. Genome Res, 12,
996—1006.

Kent,W.J. et al. (2010) BigWig and BigBed: enabling browsing of large distributed
data sets. Bioinformatics, 17, 2204—2207.

Li,H. et al. (2009) The Sequence Alignment/Map (SAM) format and SAMtools.
Bioinformatics, 25, 2078—2079.

Meyer,L.R. et al. (2013) The UCSC Genome Browser database: extensions and
updates 2013. Nucleic Acids Res., 41, D64—D69.

 

112 [glO'SIBILInO[plOJXO'SODBIILIOJHIOIQ/[ldllq IIIOJJ popcolumoq

910K ‘09 lsnﬁnV no 22

