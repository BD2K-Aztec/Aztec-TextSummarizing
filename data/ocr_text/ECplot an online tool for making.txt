APPLICA TIONS NOTE V°"312.5%.lggi‘iéi’giﬁéfiitlé’iﬁlégi

 

Genome analysis

Advance Access publication January 24, 2014

ECplot: an online tool for making standardized plots from large
datasets for bioinformatics publications
Alex Chun-Hong Fokl, Sunny Siu-Nam Mokl, Sau Dan Lee and Kevin Y. Yip*

Department of Computer Science and Engineering, The Chinese University of Hong Kong, Shatin, New Territories,

Hong Kong

Associate Editor: Alfonso Valencia

 

ABSTRACT

Motivation and results: We have implemented ECplot, an online tool
for plotting charts from large datasets. This tool supports a variety of
chart types commonly used in bioinformatics publications. In our
benchmarking, it was able to create a Box-and-Whisker plot with
about 67 000 data points and 8MB total file size within several se-
conds. The design of the tool makes common formatting operations
easy to perform. It also allows more complex operations to be
achieved by advanced XML (Extensible Markup Language) and pro-
gramming options. Data and formatting styles are stored in separate
files, such that style templates can be made and applied to new data-
sets. The text-based file formats based on XML facilitate efficient ma-
nipulation of formatting styles for a large number of data series. These
file formats also provide a means to reproduce published figures from
raw data, which complement parallel efforts in making the data and
software involved in published analysis results accessible. We dem-
onstrate this idea by using ECplot to replicate some complex figures
from a previous publication.

Availability and implementation: ECplot and its source code (under
MIT license) are available at https://yiplab.cse.cuhk.edu.hk/ecplot/.
Contact: kevinyip@cse.cuhk.edu.hk

Received on August 22, 2013; revised on January 1, 2014; accepted
on January 16, 2014

1 INTRODUCTION

Bioinformatics research usually involves large-scale datasets.
Charts are commonly used to provide a succinct summarization
of complex patterns in the data. There are many tools available
for chart plotting. Some commercial products include Matlab,
Microsoft Excel and Prism. Other tools include Google Chart
Tools, Gnuplot and R. These tools vary substantially in terms of
the level of programming skills required, cost and platform spe-
ciﬁcity. Although some of them provide graphical user interfaces,
some others require mandatory programming knowledge from
users. The costs of these tools range from free-of-charge to hun-
dreds of US dollars per license. Some of the tools can only be run
on speciﬁc operating systems (OSs), while others have versions
for more 08s, or can be run on any platform through a Web
interface.

 

*To whom correspondence should be addressed.
IThe authors wish it to be known that, in their opinion, the ﬁrst two
authors should be regarded as Joint First Authors.

For bioinformatics publications, there are some speciﬁc re-
quirements on chart-plotting software:

(1) The software should be able to create plots from large
amounts of data within a short period, ideally without
strong requirements on the computing power of users’
machines.

(2) The software should allow users to easily format a large
number of data series with exact style speciﬁcations. In par-
ticular, having long lists of formatting options distributed
across many different sections of the user interface and
asking users to repeat long sequences of mouse clicks at pre-
cise locations for every data series should both be avoided.

(3) The software should facilitate seamless re-application of a
given formatting style to another dataset, as it is common
to have multiple main or supplementary ﬁgures of the
same type for different sets of data.

We have designed and developed a software tool, ECplot, which
fulﬁlls all these requirements. It is a free online tool that can be
accessed using any contemporary Web browsers. It targets both
users with and without programming experience. The most com-
putationally intensive plotting operations are all performed at the
server side, which avoids the need for powerful client machines.

2 BASIC FUNCTIONS

ECplot supports a variety of standard chart types, including bar
charts, line charts, pie charts, Box-and-Whisker plots, scatter
plots, heat maps and sequence logo plots. The graphical user
interface (GUI) provides a spreadsheet for entering data values
(Fig. la). Alternatively, a user may upload a data ﬁle in simple
delimited formats as input. File formats are clearly speciﬁed,
while sample data from previous bioinformatics publications
are provided as examples. Standard formatting options, such
as setting the chart title, position of the legend, font size and
series colors, are all provided by the GUI. With a single click
of the Apply button, the input data and speciﬁed style formats
are combined to produce the resulting plot in real time. If further
changes to the data and/ or formatting styles are made, the ﬁgure
can be easily regenerated. When a satisfactory version is pro-
duced, it can be downloaded in a bitmap (JPG or PNG) or
vector (PDF or SVG) format, at a dimension chosen by the
user. ECplot provides chart management for registered users.
A plot can be saved to its database and later retrieved from
the list of created plots. After any updates to the data and/or

 

© The Author 2014. Published by Oxford University Press. All rights reserved. For Permissions, please e-mail: journals.permissions@oup.com 1467

112 /310's113umo [p.IOJXO'SOllBIIIJOJUTOTQ/ﬁdllq 11101; prBOIIIAAOG

9IOZ ‘09 lsnﬁnv uo ::

A.C.-H.Fok et aI.

 

la) in}

m I------*-J- '-- I--'I~

I
u
a
I n
I :l
3 I - 1‘
1. a I *
In ' n.
I._ ".‘ 1|-
.- I' '- 1 .- -,. I.
an -

E .. I -.
-— 3, - :.- *
an  : ' -
Ill ' "

II
"-
._ l  I I I ll. ;: I
I _- . I «.
.._|..-u..l_.-.
'-..-rr'. -- -: .;- 

IﬂiﬁlSih

|-|-.

lL'"_"_"'—“—'  . (cl

ldl

Hip-III
'I'
I I -1 1 .-
i I" I f
T" I 1
. II E
.F f ‘ '
.. 3 .I'
I: .I:
E
& Pilnln-I'IHI
E .I- lﬁl'n

— math-'1 :1
' 'lu'l'b- LILI'

DIQE'J‘D II'uITII'ID! I'II IM

Fig. 1. (a) The ECplot interface. 0)) Figure la of Lu et a]. (2011). (c) The replicated ﬁgure produced by ECplot. (d) Comparing the time of plotting
scatterplots of various sizes by three different tools. ECplot and R were run on a machine with an Intel Xeon CPU E5645 at 2.4 GHz (6 cores). Microsoft
Excel was run on a machine with an Intel Core i5-3550 CPU (4 cores) at 3.3 GHz

formatting styles, the resulting plot can either overwrite the ori-
ginal plot or be saved as a new plot.

3 ADVANCED FUNCTIONS

To provide more functions for advanced users without making
the GUI complex, ECplot offers two ways to perform some op-
erations that are difﬁcult to be performed using the GUI, or are
not supported by it.

The ﬁrst way is to edit the data/style ﬁles directly. All data and
formatting styles are stored in XML ﬁles with formally deﬁned
schemas. An advanced user can edit the ﬁles directly. The rele-
vant controls in the GUI will be updated accordingly. This fea-
ture is particularly useful when handling a large number of data
series. A user can copy the XML section corresponding to the
formatting for one data series, and paste it a number of times,
with the required formatting changes, for other data series. One
may also generate the XML ﬁles ofﬂine manually or program-
matically and upload them to ECplot for plotting.

The second way is to use the programming option of ECplot.
ECplot was implemented using the J FreeChart library (http://
www.jfree.org/jfreechart/). An advanced user can issue commands
in XML format to call corresponding methods of J FreeChart Java
classes with the speciﬁed parameter types and values. This pro-
gramming option also makes ECplot customizable and extensible,
in that it can incorporate new functionality provided by new ver-
sions of J FreeChart without changing its GUI or source code.

By default, ECplot rejects incorrectly formatted XML ﬁles. To
help users with using the advanced options, syntactic and semantic
errors in the XML and command codes can be ignored without
affecting the normal operations of ECplot, if instructed by the user.

4 FIGURE REPLICATION

Reproducibility of results is a fundamental requirement of scien-
tiﬁc research. Many journals now require authors to make the

data and detailed methods involved in producing published re-
sults available. For example, in a recent publication of the
ENCODE consortium (ENCODE Project Consortium, 2012),
the exact data ﬁles and computer programs used to produce
the ﬁgures were made publicly available on a virtual machine.
ECplot represents another way to facilitate replication of pub-
lished results. The data and style XML ﬁles (and the command
ﬁles, if any) of the ﬁgures of a publication can be put at its
supplementary Web site for interested parties to replicate the
ﬁgures. As a proof-of—concept example, we used ECplot to rep-
licate two complex ﬁgures in a previous publication (Lu et al.,
2011). Except for parts that were manually added in the original
ﬁgures, the reproduced ﬁgures are identical to the original ones
(Fig. lb and 0; another example available on the ECplot Web
site), which were originally created using a Java program specif-
ically written for producing the ﬁgures. One of the ﬁgures in-
volves a data ﬁle with ~ 67 000 data points and a total ﬁle size of
about 8MB. ECplot was able to create the replicated ﬁgure
within several seconds, demonstrating its ability in handling
large bioinformatics datasets. Figure 1d shows the running
time of three different tools when plotting different subsamples
of this dataset. It can be seen that at the various data sizes,
ECplot had a plotting time comparable with ggplot2.

Funding: K.Y.Y. is partially supported by the Hong Kong
Research Grant Council Early Career Scheme CUHK419612.

Conﬂict of Interest: none declared.

REFERENCES

ENCODE Project Consortium. (2012) An integrated encyclopedia of DNA elem-
ents in the human genome. Nature, 489, 57—74.

Lu,Z.J. et al. (2011) Prediction and characterization of non-coding RNAs in
C. elegans by integrating conservation, secondary structure and high throughput
sequencing and array data. Genome Res., 21, 276—285.

 

112 /310's113umo [p.IOJXO'SOIlBIIIJOJUIOIQ/ﬁdllq 11101; prBOIUAAOG

9IOZ ‘09 lsnﬁnv uo ::

