Vol. 27 no. 16 2011, pages 2309-2310
APPS NO  doi:10.1093/bioinformatics/btr364

 

Systems biology

Advance Access publication June 17, 2011

Menu-driven cloud computing and resource sharing for R and

Bioconductor

Hamid Bolouri’hT, Rajiv Dulepeti and Michael Angerman
Division of Biology, California Institute of Technology, Pasadena, CA 91125, USA

Associate Editor: Alex Bateman

 

ABSTRACT

Summary: We report CRdata.org, a cloud-based, free, open-source
web server for running analyses and sharing data and R scripts
with others. In addition to using the free, public service, CRdata
users can launch their own private Amazon Elastic Computing Cloud
(E02) nodes and store private data and scripts on Amazon’s Simple
Storage Service (S3) with user-controlled access rights. All CRdata
services are provided via point-and-click menus.

Availability and Implementation: CRdata is open-source and free
under the permissive MIT License (opensource.org/licenses/mit-
license.php). The source code is in Ruby (ruby-lang.org/en/) and
available at: github.com/seerdata/crdata.

Contact: hbolouri@fhcrc.org

Received on April 4, 2011; revised on June 2, 2011; accepted on
June 8, 2011

1 INTRODUCTION

High—throughput technologies and integrative systems biology have
led to an increasing need for high—performance computing. Cloud
computing has emerged as an attractive solution to issues of
maintenance, administration and obsolescence (Stein, 2010).

The Bioconductor (bioconductor.org) and R (cran.r—project.org)
projects offer a rich, open—source computational environment
with over 3000 ‘packages’ (high—level libraries) covering data
analysis (e.g. sequencing, ChIP/RNA—seq), simulation modeling
(e. g. stochastic modeling, ODEs and PDEs) and network integration,
analysis and visualization. Compatibility with other resources is
provided via bridging packages such as RSBML and Rgraphviz.

2 RESULTS

Here, we report the development of a web—based resource
(CRdata.org) that addresses three current challenges: First, CRdata
provides a means with which people inexpert in R syntax
can execute R scripts using a simple web—based graphical user
interface. Secondly, to facilitate sharing datasets and scripts, CRdata
automatically generates a graphical user interface for submitted

 

*To whom correspondence should be addressed.

TPresent address: D4—100, Div. Human Biology, Fred Hutchinson Cancer
Research Center, 1100 Fairview Avenue North, Seattle, WA 98109—1024,
USA.

iPresent address: WiseWindow Corporation, 17748 Skypark Circle, Suite
220, Irvine, CA 92614, USA.

scripts. Moreover, users can make data and scripts available to
selected collaborators or the world using simple menus. Thirdly,
to avoid processing bottlenecks, we provide menu—driven access to
Amazon’s Elastic Computing Cloud (EC2, aws.amazon.com/ec2/)
and its Simple Storage Service (S3, aws.amazon.com/s3/). CRdata
users can launch any number of private EC2 processor nodes and/or
store their private and shared data and scripts in S3.

In addition to individual use, CRdata users can create groups
and share data, scripts and Cloud Computing resources within
groups. This functionality enables computational biologists to
provide targeted private resources (e.g. customized scripts and
analysis results) to collaborators and subscribers. It also enables
script users to run multiple analyses using different algorithms
and/or parameters. Similarly, authors of systems biology models can
provide online versions of their models for interactive exploration.

CRdata users can also send feedback to the owner of a shared
ﬁle and rate/review the resource to help others. Moreover, the usage
history of any ﬁle can be explored by users with access rights.

Figure 1 shows example views of CRdata in use. Figure 1A shows
the directory listing for an example CRdata group. Each group has
an administrator, who can accept/reject user applications to join
(arrow). This example group has four members, as shown.

Figure 1B shows the user interface for a script shared within
the above group. The dialog boxes (and their default values) are
automatically generated by CRdata based on speciﬁcations by
the script author. As shown, the user is prompted to choose the
processing queue (Public, or a user’s private queue), specify the
input ﬁle name and provide algorithmic parameter values (including
the choice of output data).

To help users understand the algorithm and choose parameter
values, each script is accompanied by an HTML help page (supplied
by the script author via CRdata’s HTML help ﬁle editor). Figure 1C
shows a portion of the help ﬁle for the script in Figure 1B. Users
can also view the script code through a read—only viewer (a portion
is shown in Figure 1D).

Output of analyses are provided in two forms: data ﬁles that can
be downloaded or used as inputs to other CRdata scripts, and HTML
pages containing text, ﬁgures, tables, etc. A portion of the HTML
output of the example script is shown in Figure 1E.

To enable CRdata to process output statements, scripts must be
annotated with HTML—like tags that declare output statements and
their type. The tags are treated as comments by R. For example, a
command to output some text is tagged as: #<crdata_text> output
text </crdata_text>. CRdata replaces the output declaration tags
with HTML commands using R2HTML (tinyurl.com/R2HTML).
See URLs 1, 2 and 4 in Supplementary Material for details.

 

© The Author 2011. Published by Oxford University Press. All rights reserved. For Permissions, please email: journals.permissions@oup.com 2309

112 /§.IO'SIBUJROprOJXO'SOllBIIIJOJUTOTQ/ﬁdnq 11101; prBOIUAAOG

9IOZ ‘09 lsnﬁnv uo ::

H.Bolouri et aI.

 

 

 

A m

mm

USE“ FIL' “DIP; ‘ |

 

 

 

 

 

 

 

1D Nana WED“
g LIII.l Er-I-Z-Z-DE Data ﬁle; and anal-gs 5 9:: nts integra: nq E 3 datamL; tn :redlct human cisuenulatn: y -I
Dries-:1 H? 4.0:: module-a. nennrlla-w I:II:.|
F'I'r-I'llrt 1.1541.r EIICC-E-E Ell-i‘ar-I I'I-z-I--t'_|II|.ItL'-I'-.-' III-.IIILIlr-II c
ilrprnx. If |"II FI'ﬂlJirflTIllll': 'II-IIr .
|‘.Ir-.I:ri|1!iIII|: .I. .‘lﬂarazyﬁllﬂull
2 lihturrtztiuﬂclmri
H B— - brnut "-.nrser 3L: .I'u' ':IJI. -.ILII: L-tlasel -:~ -'=.I-I;II-:II'.3" r:II'IIJII 3 lwrﬁlﬂlkmﬂea]
.'--'-- Jl'jt'r . II ELLIIUII -2- "ftp:f.-'hI_1-J.--III::lII:Ii. :3-7.IIIHI'.-IJII.-'I=1I:LII-:IIIPttIIr'h-J|Fl.-'HI'I-.'.-I1-'T-|'".-"I.I.'ErI 'I--|*11IJ:III-I..--:fl-I.].-"'
.. . er.-Itr-'It' "sa' ".n DIETII': enc'I'Ie-'-'--I.'--:' n-JI'I'F-E'E-T'E '~"' J
a :' 'l H r: a c a c 5 11.1-21.0: < team-naninﬂates.htaﬁer-ELLE!,cnltlaaaea-"chnncter' J
mm,“ mu" m “m __ _ _ _ _ _ __ _I_ _ _I _ __ I; annulus :.- sub:t.r.1u.tha.ra:terinhuman]: , '..:,.i ':n'|
_ "m"— ""'"':":"'"'"3' ': ' 'H “r' '"r" "'5' h "°""':':”3' 'l' nnFiLe: < Lengthiahnrtlﬁs‘p
-'rEdII:1 LIE"! I:I-I-_I_ _II: JHEE—EI [:5-FE'ngl-a'ﬁﬂrf Inn-Jule: B cnlﬂmg -__ .3 ["ﬂﬂ".| "grarc" '"eni" , "1131.2","3“ore"|,."sl::a:.d",
'11't;-..'.-'.'.:E-I'II: 'I'-:"- .It3:.E-I:II.._-'I'.I.'II-L' " _'|'II.'.'-I E_'- '.'I' :J-IIﬁLJL .‘l-mqq 9 ".-=: 3114-. | 'r'J'I |1II-" ,"p'J-I | IIF" I. "IT-"1| II-" , "1w tl-r“]
1I.'I cmhma-HDIL: D
“MM W” in“ 11 a].qu -'- vectnnuudr 11.“ .lmth=mrile:1
1'I'.=-I1Ir'. II- I.-' Fl-I-' ' :II- 2' I-IaiF-I r-' r= II|'-."I'II'-I1'II'II'I=_"='"=.
J I I 1' q 1' I'lrlrnmrh'r Nlll'l'll' Ell-Mull 'Il'ulun I'lrlnlrnEII'r I'.I-I-1.I rEIIltiIIn
"I'm'ﬂ "h'l'g '"lE'": .I'IJ'rI."-r.'|nII=-5 ||'.-‘I- I-'I'"--'|I:' II' ' '- -'l "-I Hi“ ‘Ilnranun' LrI run run": '--' ='I'|. ||1-' IIII- 'I-'I|'-I|='- rnIHI n:--'--—'|'.- r-I .‘rh

L'IHa.‘==.'-] H'iI alt-F:
F- etIarIe-s '.:'-'

P.’II¢II'III.-III-l‘-; D'C"""='3'"5“EE

ﬁlm-Hues IB‘HI-‘I‘JE'II
 Eric}? Ill-1.11501 “'3 uIE-‘I I eh I-II'IE’; Liv

LMLL 1 53.51% =

mil.th mmleﬂm I.- -h'.iILIE “H'ESMH El:

|rl'lllrllll'S-1IEIIIII IBI-ulemnl

|I|i|IIt[IIIwr|=I:|In.1II.| Inna-Inn“!

IIIIIIrUIIIIIIIEIIEI-Iea I'Bnnlemul

IIIanI'I punks willl 1|.I|Is. :IIMIInr III..III1 |II|I| illnmrnrl

DJ'DL‘D'IIFFE'HL‘F 11
mush-mid

' I‘l"
1i|1e| II'II1 UHJst-I IEIJiIIIIE |.III]I.-I III-.III Ilrpr IIIIIE-IIHII max peak [III-Ii“; 5:30
E-EIIJL

lilu-I II1l1 [III-15H Hull-III; IH.'I!|-||||III_| '- III-III HI ﬁlth;
III-Ilegnul

 

.I---_|1IlI|p.-.'.'IIIIH seletIII-II IIIIeuI-IIII II-l 003-391 [Inks dJ'EErIII'IEE' III: F35 i.'I. .'|.I

|F1-n.I'II
in

Alumni-3 lllIlnaeI peaks. 1: "Mulligan-.2 IlapI 1n-Iu T55

I'm" lam m-I'I: cap :I'ze 1|: 2|
1 .
..0|.'||.' shut and IndﬂI

 

 

Fig. 1. Example views of the CRdata user interface. See text for details.

Over 20 example scripts and associated data ﬁles are provided in
the CRdata Public space (see Supplementary Material).

CRdata architecture is modular and extensible. A Ruby-on—Rails
(http://rubyonrails.org/) server node handles all user, processing
node, jobs queue, data and script management, leaving CRdata
processing nodes free for data processing. All processing nodes are
copies of a Master node which is preloaded with R and Bioconductor
libraries and stored as an EC2 processor instance. In this way, nodes
can be launched dynamically on demand (typically, initialization of
a new EC2 node takes a few minutes).

A Staging Node provides a means to update CRdata nodes without
interrupting the operation of the server and its active processing
nodes. Apart from packages requiring third-party software or
interactive graphics, all packages from R212 and Bioconductor2.7
are preinstalled on CRdata nodes. Unpublished packages can be
submitted to CRdata using a simple R script.

CRdata supports all Amazon processing node sizes and
conﬁgurations (see aws.amazon.com/ec2/instance-typesl). To
minimize running costs, we currently offer two processing node
types: small and medium. Three free processing nodes are offered

thcse In -.--7 .Ir .“tlate -: 'nrt-T'I II'-3 ‘Ile 'F"II:I|.||IF 13—? I: am 192-: savan In InI'In'-:
3E :--:IrE':Ie-I:| beans I '_‘:-N-'II "nr'nat. wItl'I ] Ine- EIE'I' f-ie nan-E Il'=_~ nets-Ht IIIE

f- as 0-: wnlnE:E-d from the I:I~I-_'I'_-'_ ': -.|-.':': HI-' := '.E' I'-'It|1 tl';
.:I:I'::'. "uni-z erl .-~'~' EH: .'-DE E-riasei -: alt-es 'IIE'S"_|

3951‘ 5 ‘-'.-IE": -|I:II:l1':':|.I-I'-EIII..L-I L-SE :I'IEIr t’II'EEI'IIZIIC ar'E JEEI'I'EJ 'ZIZIIZI I'E'IZILIL-I'It [LI IJE

 EII..= I._I-_I|'. n: . 'III: IJIurdL. r. -'J|I.I= Ll' 3|] 'n‘d'. £r:|n:.f.I:IJ I.‘III III'.‘ L:-.I. -_-! |II_[I.II.‘:'_-II' I.
II_.I'_.-.' ﬂ

.0 LI  I .‘If' .IIIII-'.-Ir ._I .: -.' ..|Ir ' .:'IIJ lull._:-.- I. -|.III| I'II-II Ill r.--.Il- .LI-.'|-'-.1- I'II'I '.I.J|'.l|.l.

m.- rn-nnur- nnn :nnn-r. .‘I|'|-.'-|:|E-'.!F|I' :-=_Ia|- : rn-tt: mm; In 11 nr I'I'IE'E' ﬂats-55's
:Ince than? are trplcalh ; r=.I-|:I|II:aI:=:5 per CE: I:_~'|:ne-. :hI-s I:I: 'respnl'js tn: peal's '.:I-

:II! I.'I.|fII'3 II' 0-”; '.E'- t'.'|.'".=5

We ne'rI-J-Ia z-e-alvs snanr r-J S-I hr. n: IL’IJE'I he:_'-..Js;- I nun-u .'.5-I eaulecnu -
'.'.I:II:I-_ ;—£ are-40351.- :‘I' L-Ite- "Ive-LI: -:-nI:I—;- 4’; I+ILIIIIII : 'rIaI- ll -:II.'._'1I:-e II":I1:_-II.‘II.--:

'I.'|'.il'.'l'a dl J."-Ir -III_ .'.'_II 4 II.-:I| _'I|.'. .II.|II- 'llll'. .-I II.'.

nnnctat—T real 3 'II'III' n Iz‘ns Ell'E‘t-EII'I? Frr. -'I'- he nnareat '3‘:-

DE'EIL'E E’IEll' EII'E IEEIE t’lil'l tl'II‘S- "-I.I|'I|lE" :I'f DE 53' DEII'S auen: alE ITIE’IJE'G

940240 940410 1?1 000013TE1~TSG00000131603 000013? 1
9407'00 940900 2T1 0000133 EN'SGU0000131603 0000133 1

 

mntcripllun Start Silas E

 

 

 

 

 

 

 

 

I I I
0 1 000 2000

msﬂlalmhﬁaumm

 

 

 

 

names I“! air: III-rand feature .I-mzrtJIIu'ilinn Hldjﬂﬂiliﬂ'll iluiﬂeFeann'e
EHSG00000137I503 9.4e+05 9424-05 downstream

343600000137503 5| .4 I.-+05 9.4:4-05 doWnstt'cam

 

by CRdata to allow users to test scripts and perform small analysis
tasks. For jobs likely to take more than a few minutes, we request
that users launch private EC2 nodes. A menu-driven interface
in CRdata makes this task straightforward. Extra nodes can be
launched automatically when there are jobs waiting in a user’s
queue, and idle nodes terminated.

ACKNOWLEDGEMENTS

CRdata was developed as part of a collaborative project with the
laboratory of Dr Ellen Rothenberg (Caltech), with code contributions
by SparkTech Software (sparktechsoft.com/), and Bioconductor
contributions by Dr Martin Morgan (FHCRC).

Funding: NHLBI grant (HL089102 to H.B.).

Conﬂict of Interest: none declared.

REFERENCE

Stein,R.D. (2010) The case for cloud computing in genome informatics. Genome Biol.,
11, 207.

 

2310

112 /3.IO'SIBUJHOprOJXO‘SOIlBUIJOJUIOIq//Zd11q 11101; popcommoq

9IOZ ‘OE lsnﬁnv uo ::

