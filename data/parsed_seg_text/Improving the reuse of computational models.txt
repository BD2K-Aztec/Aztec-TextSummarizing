Motivation: Only models that are accessible to researchers can be reused. As computational models evolve over time, a number of different but related versions of a model exist. Consequently, tools are required to manage not only well curated models but also their associated versions. Results: In this work, we discuss conceptual requirements for model version control. Focusing on XML formats such as Systems Biology Markup Language and CellML, we present methods for the identification and explanation of differences and for the justification of changes between model versions. In consequence, researchers can reflect on these changes, which in turn have considerable value for the development of new models. The implementation of model version control will therefore foster the exploration of published models and increase their reusability. Availability: We have implemented the proposed methods in a software library called Biochemical Model Version Control System. It is freely available at http://sems.uni-rostock.de/bives/. Biochemical Model Version Control System is also integrated in the online application bud hat which is available for testing at http://sems.uni-rostock. de bud hat (The version described in this publication is available from http://budhat

introduction modelling has become an integral tool for research in computational biology (). The increasing impact of modelling for biology is reflected in the rapidly growing number and complexity of computational models of biological systems (in the following referred to 'models') (). Current modelling projects such as the Virtual Physiological Human (http://www.vph-noe.eu/) require the usage of techniques for model coupling, merging and combination at different scales. Computational support is needed to manage models; to ensure model exchangeability, stability and result validity; and to foster communication between project partners. Model representation formats standardize model encoding. Examples are the Systems Biology Markup Language (SBML) (), CellML () or neuro ml (). These formats represent a model's structure (e.g. the biochemical network) and allow basic annotation of the model to better convey a model's intention. For example, SBML developed an annotation scheme (), which reuses the Resource Description Format (RDF) () and identifiers from the Minimal Information Required in the Annotation of Models (MIRIAM) () Registry (). The valid description of a model is a requisite for its dissemination, but an additional descriptive layer is necessary to ensure direct result reproducibility. This layer is covered by the Simulation Experiment Description Markup Language sed ml (), which is a format for the standardized encoding of simulation experiment setups.). With an infrastructure at hand that provides modellers in computational biology with a rich set of model related information, it is now time to think about integrated management solutions for models, their associated simulation experiments, result data, reference publications and so forth (). Curated model source code is published in model repositories, for example bio models Database (), the physio me Model Repository (PMR2) (), model db () or the Open Source Brain (http://opensourcebrain. org). Open model repositories grant researchers access to published models. They provide a platform for model sharing and long term storage, and they add support for model validation, curation and annotation of submitted models. Several publishers already ask for model source code to be made available along with the written paper (including Oxford journals, BMC journals, PLoS journals or the FEBS journal). They recommend upload of model code to open model repositories using standard formats and annotations. Consequently, open repositories are high quality reusable resources of models. However, one disadvantage of current systems is the unavailability of user interpretable version information together with the subsequent lack of model histories. Each model is subject to a characteristic set of changes that reflects the model's updates from its creation to curation, publication and later reuse in other contexts. One prerequisite for the study of a model's history is the availability of all significant model versions. Here, the model version control system (VCS) saves time in re capitulating the different modelling steps taken to build a model. This aspect also becomes relevant when publishing the work, teaching model design in courses or during model curation when curators need to discuss necessary model changes with authors before publication in a model repository. A VCS is capable of storing all existing versions of a model during its existence. Subsets of these versions can easily be filtered and displayed to the users. The level of detail depends on the specific application. For example, the developers of a model repository may choose to open all versions that reproduce the results in the reference publication. However, during the collaborative development of a model, all intermediate versions may be of interest for the project members. The need for model version control has been previously discussed in research groups facing model evolution in computational biology (). In general, v css such as Subversion (http://subversion.apache.org/) (SVN) or Mercurial (http://mercurial.selenic.com/) track every change made in a source document, along with information about who made the change and an optional log message containing information why a change has been made. PMR2 has recently demonstrated how Mercurial can be used to track and present model versions over the web (). Once processed, the information that is recorded by a VCS enables users to study a model's past and to answer specific questions about the model (). Modellers may investigate which parts of a model have been changed, and how these changes were justified. For example, changes in the model parametrization may be justified by a new publication. It is also interesting for a modeller to see how often a model has been changed and when it was last changed. This information indicates how recent a model is and whether it has been tested and used by the community. When reusing model code, which has been changed frequently in the past, the modeller might decide to confirm the model's validity on a regular basis. Simulation experimental setups are valid for a model at a certain time (or range of time). Changes in the model may directly affect the simulation results and therefore must be communicated and explained. In addition, the applicability of standard simulation experimental procedures, termed functional curation (), must be ensured for each single version of a model. Consequently, the availability of every model version used in a simulation experiment is a major requirement to ensure reproducibility of results. In summary, the awareness of a need for version control led to the incorporation of technical solutions for model version control in model repositories. However, current approaches are appropriate for software code rather than model files. The standard algorithms that are to date implemented perform poorly on xml encoded models. Existing solutions also miss support in aggregating version information about a particular model into a model history and interpreting changes. We argue that the implementation of tools that identify and highlight differences between models enables researchers to reflect on model changes, which in turn has considerable value for the development of new models. The present work discusses concepts for model version control and provides solutions to the previously mentioned problems. We concentrate here on models in xml based standard formats. Our methods are document centric and therefore perform well on single document models, e.g. SBML Level 2 models. However, in Section 4, we also show how multi document models can be managed, e.g. CellML models with imported model components.

discussion all relevant changes applied to a model should be tracked and they should be fully listed and documented. Users need to know what has been changed in a model, by whom, why and when (). Surprisingly, these requirements are not yet covered by existing systems. In this section we discuss the improvements of our system over existing solutions and we point to open issues. Improving model version control: To date, model files are rarely accessible by the users of model repositories in formats other than the original model file, or the processed, curated model file. For example, SBML files from bio models Database are available for every release point. However, model code might change between two releases. These changes are not traceable by the community. Furthermore, the current bio models Database releases are snapshots of the repository; they do not relate different versions of a model. Also, the concept of a model history inside SBML is not intuitive; different steps must be taken to reconstruct the history of a model in terms of curation and modification dates. The types of changes are not encoded in SBML models. The model database PMR2 already provides a system for model version control. The repository stores exposures and Mercurial logs, which represent different versions of a model. However, the interpretation of changes remains difficult, and the system lacks a visual representation of the model history. A consolidated view of all these factors indicates that a sophisticated model VCS is missing in current software tools. Here, we propose a system that identifies and classifies the changes in a model. Instead of using built in line based difference detection (as used by SVN), we provide the XML aware difference detector b ives shows how a model history can be maintained, and differences between two model versions can be detected and then visualized in bud hat. Such a graphical representation allows users to quickly grasp the difference between two model versions and to understand the evolution of a model over time. However, a number of open questions remain for future investigations, despite the improvements introduced here. Leaving the choice to the user: Providing a user with the differences between model versions enables him to actively decide whether to use an updated version of a model. For example, on discovering that a model has solely been updated to a new version of SBML, a user may decide to keep the older version of the model until his software is updated to support the new format specification. In this case, the model remains biologically valid. A decision for a model version requires a user to be aware of the model's change compared with its preceding version. This decision is supported by a visual representation of changes, as we have prototyped in bud hat (see again). Ongoing research in the field of data and network visualization can contribute to this problem b ives library. The result can be viewed either as an XML description of changes, or be displayed graphically, using an adaptation of the Cytoscape web tool. All changes in the network structure are colour coded as follows: new elements in blue, deleted elements in red and updated elements in yellow. A second feature is the graphical representation of a model's history (not shown in this figure). It provides a quick overview of existing versions of a model in bud hat multi document models must be flattened (i.e. merged into one single file). A second solution is to combine the VCS with a database in the background handling multi document models. Consequently, the problem is shifted to the storage layer of the model management system. We have already shown in our previous publication that SBML models can be transformed into a graph based representation and then be managed by a graph database (). This approach can be extended to enable version control for multi document models (): using a graph structure allows for relating models and model constituents. An import relation in the database links the model to constituents that are defined outside the model file, thereby representing multi document models. Subsequent changes in one model can be propagated to all models reusing the updated components as a constituent shows an example of a multi document model and outlines how the relations between database nodes can be used for checks on updates in single models. Version control for systems of models: All ideas in this article discussed the identification of changes between two versions of a single model, and the previous section outlined solutions to handle models that are composed of more than one document. However, even further information can be gained when looking at the evolution of models for a particular biological system. For example, a significant number of models that are based on the early encoding of Tyson's cell cycle model () have been submitted to and published in model repositories. Looking at the different cell cycle models, how they relate to each other, how the single models evolved and how parts of models were merged into new models requires not only a version control of single XML files but also of a collection of models. One approach for addressing the problem of linking entities across model files is the use of annotations, e.g. using the Computational Neuroscience Ontology c no (http://purl. bio ontology org ontology c no which contains a branch on model classification. However, the definition of similarity measures for changes across models is still an open research question. What is a new model and what is not? Models may exist in different versions over time, and they are generated by different research groups. Furthermore, researchers may produce a number of instances of a model with differing parameterizations (). The fact is that models must be accessible for re-use and to foster result reproducibility. Both reduce costs and effort during model development. Consequently, questions such as how to distinguish model versions from each other and how to separate models from simulation setups to avoid the unnecessary redefinition of models as 'new models' must be discussed in the future.

conclusion current technical solutions to the problem of model version control do not allow users to access, study, compare and visualize different versions of a model. Here, we have identified the following requirements for an improved system 1 An xml aware algorithm for difference detection should be used: Moving from LCS to entity based algorithms for XML version control is a first step towards a more efficient model VCS. entity based change detection is minimal, as it neglects XML formatting changes. We consequently propose the extension of xml aware algorithms for difference detection in models 2 All changes should be transparent to the user: It is essential to know which parts of a model have been changed and how. This information can be encoded in a list of differences for pairs of two model versions. We consequently suggest to provide users with a visual representation of changes between model versions 3 Justification should be given for each change: It is important to provide justification for each relevant change in a model file, thereby encoding why something was changed and by whom. entity based difference detection enables partially automatized annotation of changes and their classification. We suggest here to establish tools for the semi-automatic annotation of model changes with terms from a controlled vocabulary these requirements should be respected in software tools that offer model management. We have implemented a library for model change detection, b ives which can be integrated with existing databases or v css. Our online application, bud hat furthermore exemplifies the envisioned functionality of a model VCS.
