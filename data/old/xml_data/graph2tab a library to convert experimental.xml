
<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 /home/joey/Project/grobid/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<encodingDesc>
			<appInfo>
				<application version="0.4.2-SNAPSHOT" ident="GROBID" when="2017-08-10T23:49+0000">
					<ref target="https://github.com/kermitt2/grobid">GROBID - A machine learning software for extracting information from scholarly documents</ref>
				</application>
			</appInfo>
		</encodingDesc>
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Databases and ontologies graph2tab, a library to convert experimental workflow graphs into tabular formats</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
				<date type="published" when="2012-12">. 12 2012</date>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName>
								<forename type="first">Marco</forename>
								<surname>Brandizi</surname>
							</persName>
							<affiliation key="aff0">
								<orgName type="department">European Bioinformatics Institute</orgName>
								<orgName type="institution">Wellcome Trust Genome Campus</orgName>
								<address>
									<postCode>CB10 1SD</postCode>
									<settlement>Cambridge</settlement>
								</address>
							</affiliation>
						</author>
						<author>
							<persName>
								<forename type="first">Natalja</forename>
								<surname>Kurbatova</surname>
							</persName>
							<affiliation key="aff0">
								<orgName type="department">European Bioinformatics Institute</orgName>
								<orgName type="institution">Wellcome Trust Genome Campus</orgName>
								<address>
									<postCode>CB10 1SD</postCode>
									<settlement>Cambridge</settlement>
								</address>
							</affiliation>
						</author>
						<author>
							<persName>
								<forename type="first">Ugis</forename>
								<surname>Sarkans</surname>
							</persName>
							<affiliation key="aff0">
								<orgName type="department">European Bioinformatics Institute</orgName>
								<orgName type="institution">Wellcome Trust Genome Campus</orgName>
								<address>
									<postCode>CB10 1SD</postCode>
									<settlement>Cambridge</settlement>
								</address>
							</affiliation>
						</author>
						<author>
							<persName>
								<forename type="first">Philippe</forename>
								<surname>Rocca-Serra</surname>
							</persName>
							<affiliation key="aff1">
								<orgName type="department">Oxford e-Research Centre</orgName>
								<orgName type="institution">University of Oxford</orgName>
								<address>
									<postCode>OX1 3QG</postCode>
									<settlement>Oxford</settlement>
									<country key="GB">UK</country>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main">Databases and ontologies graph2tab, a library to convert experimental workflow graphs into tabular formats</title>
					</analytic>
					<monogr>
						<title level="j" type="main">BIOINFORMATICS APPLICATIONS NOTE</title>
						<imprint>
							<biblScope unit="volume">28</biblScope>
							<biblScope unit="page" from="1665" to="1667"/>
							<date type="published" when="2012-12">. 12 2012</date>
						</imprint>
					</monogr>
					<idno type="DOI">10.1093/bioinformatics/bts258</idno>
					<note type="submission">Received on February 24, 2012; revised on April 10, 2012; accepted on April 24, 2012</note>
					<note>Copyedited by: AA MANUSCRIPT CATEGORY: APPLICATIONS NOTE [19:38 17/5/2012 Bioinformatics-bts258.tex] Page: 1665 1665–1667 Contact: brandizi@ebi.ac.uk. Supplementary Information: A supplementary document describes the theoretical and technical details about the library implementation.</note>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<profileDesc>
			<abstract>
				<p>Motivations: Spreadsheet-like tabular formats are ever more popular in the biomedical field as a mean for experimental reporting. The problem of converting the graph of an experimental workflow into a table-based representation occurs in many such formats and is not easy to solve. Results: We describe graph2tab, a library that implements methods to realise such a conversion in a size-optimised way. Our solution is generic and can be adapted to specific cases of data exporters or data converters that need to be implemented. Availability and Implementation: The library source code and documentation are available at http://github.com/ISA-tools/ graph2tab.</p>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1">INTRODUCTION</head><p>Spreadsheet-like tabular formats are popular data exchange means in the biomedical field (<ref type="bibr" target="#b3">Kuchinke et al., 2009;</ref><ref type="bibr" target="#b6">Rayner et al., 2006</ref><ref type="bibr" target="#b7">Rayner et al., , 2009</ref><ref type="bibr" target="#b9">Sansone et al., 2008</ref>). The idea of representing complex structures, such as experimental designs, by means of matrices makes these formats easy to understand by end users, who can use familiar spreadsheet software products or specific applications (<ref type="bibr" target="#b8">Rocca-Serra et al., 2010</ref><ref type="bibr" target="#b10">, Shankar et al., 2010</ref>) to manage experiment reporting and other biomedical data (<ref type="bibr" target="#b1">Field et al., 2010</ref>). While working with such formats is relatively easy for software developers too, it is highly desirable to build and share reusable software components for processing them. In this article we describe graph2tab, a (Java-based) programming library that allows a developer to deal with the specific (yet recurrent) problem of converting the workflow graph of a biomedical experiment into a tabular representation, defined according to a given tabular format, such as ISA-Tab (<ref type="bibr" target="#b9">Sansone et al., 2008</ref>) or MAGE-TAB (<ref type="bibr" target="#b6">Rayner et al., 2006</ref>). While the basics of such a conversion procedure are well known (http://www.mged.org/mage-tab/spec1.0.html;<ref type="bibr" target="#b6">Rayner et al., 2006</ref>) our experience shows that implementing all the details is not trivial. Considering this, we have developed the graph2tab library in a generic way, so that it can be adapted to a variety of concrete cases. A software developer can leverage on it to build tools like data exporters or data format converters. This can be done * To whom correspondence should be addressed. by adapting the library to a particular combination of an input object model and an output tabular format. In the following we describe the specific problems related to such conversion and the solutions that graph2tab offers to them.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1.1">Covering a DAG with a minimum path set</head><p>The input to the problem we deal with is essentially a directed acyclic graph, or DAG (<ref type="figure" target="#fig_0">Fig. 1a</ref>), which represents the execution workflow of a biomedical experiment, such as a microarray study or a clinical trial. The nodes of such graph can be about a biological product, such as a tissue sample, experiment's output, such as a file of geneexpression levels, or an experimental step, such as a reference to a laboratory protocol. Moreover, usually sets of typed attributes (i.e. header/value pairs), like the organism name a sample is about, are attached to the nodes. Such a graph can be converted to a headed table (<ref type="figure" target="#fig_0">Fig. 1b</ref>), such that each table row represents a particular path in the workflow, while columns are used to report the nodes/entities and their attributes. Further rules allow one to represent complex topologies. For example, in the case of<ref type="figure" target="#fig_0">Figure 1b</ref>, having 'sample 1' in two subsequent rows means the table values are about the same node (crossed by two paths). Also note that the graph in<ref type="figure" target="#fig_0">Figure 1a</ref>could be reconstructed by means of more than two paths (and hence more than two rows), for example having two paths starting from 'source 1' and a third starting from 'source 2'. However, what is usually wanted is a most compact set of paths (and hence number of rows) that allows reconstruction of the original graph. It can be shown that such solution corresponds to the minimal set of paths that covers all the edges and all the nodes of the graph. A very convenient way to solve this problem is reducing it to a minimum flow problem, for which well-known efficient algorithms are available (<ref type="bibr">Ciurea and Ciupalã, 2004</ref>). We refer the reader to the Supplementary material for the details on how we do the transformation to a minimum flow case and the reasons why we have chosen to exploit the Ford–Fulkerson algorithm (<ref type="bibr" target="#b2">Ford and Fulkerson, 1987</ref>) for solving this problem.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1.2">Layering</head><p>We associate a layer index to each node, which reflects the node arrangement in<ref type="figure" target="#fig_0">Figure 1a</ref>, where each layer contains nodes of the same type and can be used to report the nodes in a table, using a homogeneous set of columns (<ref type="figure" target="#fig_0">Fig. 1b</ref>). While the general approach to achieve such a layering is known (http://www.mged.org/ mage-tab/spec1.0.html), a number of details and ambiguous situations have to be dealt with in a concrete implementation. For example, that the columns about the 'labelled extract 1' in<ref type="figure" target="#fig_0">Figure 1a</ref>according to the required output format. In this example, the term accession is nested within the free-text value attribute about the organism, to reflect the fact that the identifier column has to be reported next to the 'Organism' column. In turn, the term source column is at the third nesting level, since the corresponding column must appear next to 'Term Accession' come after the 'sample 2' has to be told to a computer somehow, in order to avoid the opposite column order. In graph2tab, we allow one to specify this for a particular tabular format by means of the 'order' property in the Node interface (<ref type="figure" target="#fig_1">Fig. 2a</ref>). A concrete value for such property may be based on a pre-defined list of types, as well as on more sophisticated criteria, such as, for ambiguities involving protocols, the ontology terms about the protocol types (for instance, to establish that a sample treatment protocol comes before a labelling protocol). Further details about the layering algorithm can be found in the graph2tab user guide (https://github.com/ISA-tools/graph2tab/blob/ master/ graph2tab_intro.pdf) and in the Supplementary Material.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1.3">Node headers and cell values</head><p>Once the minimum covering path set is computed and the node layers are established, the final table can be built by walking through every path and, for each node, reporting its contribution to the table headers and cell values, where such contribution consists of the node attributes mentioned above. In order to ease this last step, we require that a graph node exposes a nested structure of header/value pairs (<ref type="figure" target="#fig_1">Fig. 2a and b</ref>). This way, it is possible to take into account how the logic of the target format requires the columns to be grouped together and to progressively merge the attributes provided by each node into the final result (<ref type="figure" target="#fig_1">Fig. 2c</ref>).</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2">USE CASES AND DISCUSSION</head><p>So far we have used the graph2tab library for realizing two database-to-tabular format exporters, one for the ISA software suite (<ref type="bibr" target="#b8">Rocca-Serra et al., 2010</ref>) which exports into the ISA-Tab format (<ref type="bibr" target="#b9">Sansone et al., 2008</ref>), and the other for the ArrayExpress repository (<ref type="bibr" target="#b5">Parkinson et al., 2011</ref>), which exports experimental data into the MAGE-TAB format (<ref type="bibr" target="#b6">Rayner et al., 2006</ref>). Other cases where we have used the library are: a MAGE-ML-to-MAGE-TAB converter(http://sourceforge.net/projects/mageml2tab/) and a data exporter for the Limpopo library (http://limpopo.sourceforge.net/). Other tools similar to graph2tab exist. For instance, the caArray microarray data management software is able to export its data as MAGE-TAB files (https://cabig.nci.nih.gov/community/tools/ caArray). Similarly, the BASE system (<ref type="bibr" target="#b11">Vallon-Christersson et al. 2009</ref>), has a plug-in for exporting data into the Tab2MAGE format (http://baseplugins.thep.lu.se/wiki/uk.ac.ebi.Tab2MageExporter), a precursor of MAGE-TAB. Compared to these tools, graph2tab has the novel features of being a generic implementation of a sizeoptimized graph-to-table conversion, which, as described in this article, embeds the solution to several recurrent problems. In fact, the library can be adapted to any object model that encodes DAGs and any tabular format that represents DAGs by reporting one path per row and one attribute type per column. As we describe in detail in the user guide (https://github.com/ISA-tools/graph2tab/ blob/master/graph2tab_intro.pdf) and in the on line code examples, this flexibility is achieved by letting developers to extend the library to accommodate their particular cases, for example a data exporter or data format converter. The expected input in such scenario is an object model (i.e. a set of Java objects instantiating predefined classes), which needs to be adapted to the Node interface in<ref type="figure" target="#fig_1">Figure 2a</ref>. This will include the definition of the getTabValues() method, i.e. of the headers and values to be generated in the output table, according to the particular tabular format that has been chosen as output. Another benefit of the graph2tab implementation is that it makes available a graph-to-table conversion procedure that has been tested both from the theoretical point of view (see the Supplementary Material) and against real cases. Using the minimum path coverage of the input graph as a basis for the subsequent table generation corresponds to finding a maximally compact tabular representation of the original graph, a highly desirable feature, especially for the case of complex input workflows with many pooling and splitting operations. A possible limit of this approach is that, when the converted graph comes from an original submission based on a tabular format, the conversion result (e.g. a re-export needed after data review) is not necessarily identical to the original submission (e.g. if this was redundant and not minimal). In our experience, usually this is not considered as a problem by end users. We expect that the graph2tab library will be useful in more similar cases in future, given the importance of experimental workflows in the biomedical field and the increasing popularity of tabular formats. Moreover, since the biomedical experimental workflows are a particular case of more general provenance models (<ref type="bibr" target="#b4">McCusker and McGuinness, 2010</ref>), the library has a potential to be useful in other application domains.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_0"><head>Fig.1.</head><figDesc>Fig. 1. (a) an experimental workflow graph and how it is layered. The node type difference between 'Protocol 1' and 'Sample 2' causes the layering gap after 'Sample 1' (b) the graph converted into a table (assuming nodes expose the attributes reported)</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_1"><head>Fig.2.</head><figDesc>Fig. 2. (a) the Node interface, which is the key to make graph2tab generic (b) the node attributes are encoded in the recursive TabValueGroup structure, which makes it possible to prepare a suitable result (c), where values about the same headers are grouped together. Attributes are nested according to the required output format. In this example, the term accession is nested within the free-text value attribute about the organism, to reflect the fact that the identifier column has to be reported next to the 'Organism' column. In turn, the term source column is at the third nesting level, since the corresponding column must appear next to 'Term Accession'</figDesc></figure>
<figure xmlns="http://www.tei-c.org/ns/1.0" xml:id="fig_2"><head></head><figDesc>Copyedited by: AA MANUSCRIPT CATEGORY: APPLICATIONS NOTE [19:38 17/5/2012 Bioinformatics-bts258.tex] Page: 1667 1665–1667 graph2tab</figDesc></figure>

			<note place="foot">at :: on August 30, 2016 http://bioinformatics.oxfordjournals.org/ Downloaded from</note>
		</body>
		<back>

			<div type="acknowledgement">
<div xmlns="http://www.tei-c.org/ns/1.0"><head>ACKNOWLEDGEMENTS</head></div>
			</div>

			<div type="references">

				<listBibl>

<biblStruct   xml:id="b0">
	<analytic>
		<title level="a" type="main">Sequential and parallel algorithms for minimum flows</title>
		<author>
			<persName>
				<forename type="first">E</forename>
				<surname>Ciurea</surname>
			</persName>
		</author>
		<author>
			<persName>
				<forename type="first">L</forename>
				<surname>Ciupalˇaciupalˇa</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Korean J. Comput. Appl. Math</title>
		<imprint>
			<biblScope unit="volume">15</biblScope>
			<biblScope unit="page" from="53" to="75" />
			<date type="published" when="2004" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b1">
	<analytic>
		<title level="a" type="main">Meeting report: BioSharing at ISMB 2010</title>
		<author>
			<persName>
				<forename type="first">D</forename>
				<surname>Field</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Stand. Genomic Sci</title>
		<imprint>
			<biblScope unit="volume">3</biblScope>
			<biblScope unit="page" from="254" to="258" />
			<date type="published" when="2010" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b2">
	<analytic>
		<title level="a" type="main">Maximal flow through a network</title>
		<author>
			<persName>
				<forename type="first">L</forename>
				<forename type="middle">R</forename>
				<surname>Ford</surname>
			</persName>
		</author>
		<author>
			<persName>
				<forename type="first">D</forename>
				<forename type="middle">R</forename>
				<surname>Fulkerson</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Classic Papers in Combinatorics</title>
		<editor>Gessel,I. and Rota,G.-C.</editor>
		<meeting><address><addrLine>Boston, MA</addrLine></address></meeting>
		<imprint>
			<date type="published" when="1987" />
			<biblScope unit="page" from="243" to="248" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b3">
	<analytic>
		<title level="a" type="main">CDISC standard-based electronic archiving of clinical trials</title>
		<author>
			<persName>
				<forename type="first">W</forename>
				<surname>Kuchinke</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Methods Inf. Med</title>
		<imprint>
			<biblScope unit="volume">48</biblScope>
			<biblScope unit="page" from="408" to="413" />
			<date type="published" when="2009" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b4">
	<analytic>
		<title level="a" type="main">Explorations into the Provenance of High Throughput Biomedical Experiments</title>
		<author>
			<persName>
				<forename type="first">J</forename>
				<forename type="middle">P</forename>
				<surname>Mccusker</surname>
			</persName>
		</author>
		<author>
			<persName>
				<forename type="first">D</forename>
				<forename type="middle">L</forename>
				<surname>Mcguinness</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="m">Provenance and Annotation of Data and Processes-– Third Int Provenance and Annotation Workshop</title>
		<meeting><address><addrLine>Troy, NY</addrLine></address></meeting>
		<imprint>
			<date type="published" when="2010" />
			<biblScope unit="page" from="120" to="128" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b5">
	<analytic>
		<title level="a" type="main">ArrayExpress update—an archive of microarray and highthroughput sequencing-based functional genomics experiments</title>
		<author>
			<persName>
				<forename type="first">H</forename>
				<surname>Parkinson</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Nucleic Acids Res</title>
		<imprint>
			<biblScope unit="volume">39</biblScope>
			<biblScope unit="page" from="1002" to="1004" />
			<date type="published" when="2011" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b6">
	<analytic>
		<title level="a" type="main">A simple spreadsheet-based, MIAME-supportive format for microarray data: MAGE-TAB</title>
		<author>
			<persName>
				<forename type="first">T</forename>
				<forename type="middle">F</forename>
				<surname>Rayner</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">BMC Bioinformatics</title>
		<imprint>
			<biblScope unit="volume">7</biblScope>
			<biblScope unit="page">489</biblScope>
			<date type="published" when="2006" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b7">
	<analytic>
		<title level="a" type="main">MAGETabulator, a suite of tools to support the microarray data format MAGE-TAB</title>
		<author>
			<persName>
				<forename type="first">T</forename>
				<forename type="middle">F</forename>
				<surname>Rayner</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Bioinformatics</title>
		<imprint>
			<biblScope unit="volume">25</biblScope>
			<biblScope unit="page" from="279" to="280" />
			<date type="published" when="2009" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b8">
	<analytic>
		<title level="a" type="main">ISA software suite: supporting standards-compliant experimental annotation and enabling curation at the community level</title>
		<author>
			<persName>
				<forename type="first">P</forename>
				<surname>Rocca-Serra</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Bioinformatics</title>
		<imprint>
			<biblScope unit="volume">26</biblScope>
			<biblScope unit="page" from="2354" to="2356" />
			<date type="published" when="2010" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b9">
	<analytic>
		<title level="a" type="main">The first RSBI (ISA-TAB) workshop: &apos;can a simple format work for complex studies?</title>
		<author>
			<persName>
				<forename type="first">S.-A</forename>
				<surname>Sansone</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">OMICS</title>
		<imprint>
			<biblScope unit="volume">12</biblScope>
			<biblScope unit="page" from="143" to="149" />
			<date type="published" when="2008" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b10">
	<analytic>
		<title level="a" type="main">Annotare—a tool for annotating high-throughput biomedical investigations and resulting data</title>
		<author>
			<persName>
				<forename type="first">R</forename>
				<surname>Shankar</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Bioinformatics</title>
		<imprint>
			<biblScope unit="volume">26</biblScope>
			<biblScope unit="page" from="2470" to="2471" />
			<date type="published" when="2010" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b11">
	<analytic>
		<title level="a" type="main">BASE—2nd generation software for microarray data management and analysis</title>
		<author>
			<persName>
				<forename type="first">J</forename>
				<surname>Vallon-Christersson</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">BMC Bioinformatics</title>
		<imprint>
			<biblScope unit="volume">10</biblScope>
			<biblScope unit="page">330</biblScope>
			<date type="published" when="2009" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>