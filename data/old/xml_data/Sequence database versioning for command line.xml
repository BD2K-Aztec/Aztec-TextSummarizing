
<?xml version="1.0" encoding="UTF-8"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
xsi:schemaLocation="http://www.tei-c.org/ns/1.0 /home/joey/Project/grobid/grobid-home/schemas/xsd/Grobid.xsd"
 xmlns:xlink="http://www.w3.org/1999/xlink">
	<teiHeader xml:lang="en">
		<encodingDesc>
			<appInfo>
				<application version="0.4.2-SNAPSHOT" ident="GROBID" when="2017-08-10T23:49+0000">
					<ref target="https://github.com/kermitt2/grobid">GROBID - A machine learning software for extracting information from scholarly documents</ref>
				</application>
			</appInfo>
		</encodingDesc>
		<fileDesc>
			<titleStmt>
				<title level="a" type="main">Sequence database versioning for command line and Galaxy bioinformatics servers</title>
			</titleStmt>
			<publicationStmt>
				<publisher/>
				<availability status="unknown"><licence/></availability>
			</publicationStmt>
			<sourceDesc>
				<biblStruct>
					<analytic>
						<author>
							<persName>
								<forename type="first">Damion</forename>
								<forename type="middle">M</forename>
								<surname>Dooley</surname>
							</persName>
							<affiliation key="aff0">
								<orgName type="department">Department of Pathology</orgName>
								<orgName type="institution">University of British Columbia</orgName>
								<address>
									<settlement>Vancouver</settlement>
									<region>BC</region>
									<country key="CA">Canada</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName>
								<forename type="first">Aaron</forename>
								<forename type="middle">J</forename>
								<surname>Petkau</surname>
							</persName>
							<affiliation key="aff1">
								<orgName type="laboratory">National Microbiology Laboratory</orgName>
								<orgName type="institution">Public Health Agency of Canada</orgName>
								<address>
									<settlement>Winnipeg</settlement>
									<region>MB</region>
									<country key="CA">Canada</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName>
								<forename type="first">Gary</forename>
								<surname>Van Domselaar</surname>
							</persName>
							<affiliation key="aff1">
								<orgName type="laboratory">National Microbiology Laboratory</orgName>
								<orgName type="institution">Public Health Agency of Canada</orgName>
								<address>
									<settlement>Winnipeg</settlement>
									<region>MB</region>
									<country key="CA">Canada</country>
								</address>
							</affiliation>
						</author>
						<author>
							<persName>
								<forename type="first">William</forename>
								<forename type="middle">W L</forename>
								<surname>Hsiao</surname>
							</persName>
							<affiliation key="aff0">
								<orgName type="department">Department of Pathology</orgName>
								<orgName type="institution">University of British Columbia</orgName>
								<address>
									<settlement>Vancouver</settlement>
									<region>BC</region>
									<country key="CA">Canada</country>
								</address>
							</affiliation>
							<affiliation key="aff2">
								<orgName type="institution">BC Public Health Microbiology and Reference Laboratory</orgName>
								<address>
									<settlement>Vancouver</settlement>
									<region>BC</region>
									<country key="CA">Canada</country>
								</address>
							</affiliation>
						</author>
						<title level="a" type="main">Sequence database versioning for command line and Galaxy bioinformatics servers</title>
					</analytic>
					<monogr>
						<imprint>
							<date/>
						</imprint>
					</monogr>
					<idno type="DOI">10.1093/bioinformatics/btv724</idno>
					<note type="submission">Received on 12 August 2015; revised on 1 December 2015; accepted on 6 December 2015</note>
					<note>Databases and ontologies *To whom correspondence should be addressed. Associate Editor: Jonathan Wren software available at https://github.com/Public-Health-Bioinformatics/kipper and https://github.com/Public-Health-Bioinformatics/versioned_data, respectively; detailed setup instructions can be found at https://github.com/Public-Health-Bioinformatics/versioned_data/blob/master/doc/setup.md Contact: Damion.Dooley@Bccdc.Ca or William.Hsiao@Bccdc.Ca Supplementary information: Supplementary data are available at Bioinformatics online.</note>
				</biblStruct>
			</sourceDesc>
		</fileDesc>
		<profileDesc>
			<abstract>
				<p>Motivation: There are various reasons for rerunning bioinformatics tools and pipelines on sequencing data, including reproducing a past result, validation of a new tool or workflow using a known dataset, or tracking the impact of database changes. For identical results to be achieved, regularly updated reference sequence databases must be versioned and archived. Database administrators have tried to fill the requirements by supplying users with one-off versions of databases , but these are time consuming to set up and are inconsistent across resources. Disk storage and data backup performance has also discouraged maintaining multiple versions of databases since databases such as NCBI nr can consume 50 Gb or more disk space per version, with growth rates that parallel Moore&apos;s law. Results: Our end-to-end solution combines our own Kipper software package—a simple key-value large file versioning system—with BioMAJ (software for downloading sequence databases), and Galaxy (a web-based bioinformatics data processing platform). Available versions of databases can be recalled and used by command-line and Galaxy users. The Kipper data store format makes publishing curated FASTA databases convenient since in most cases it can store a range of versions into a file marginally larger than the size of the latest version. Availability and implementation: Kipper v1.0.0 and the Galaxy Versioned Data tool are written in Python and released as free and open source</p>
			</abstract>
		</profileDesc>
	</teiHeader>
	<text xml:lang="en">
		<body>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="1">Introduction</head><p>As outlined in motivation, the challenge is to efficiently archive versions of large FASTA format reference sequence databases which usually grow with many inserts but relatively few deletes or updates. These databases are suited to differential archiving (hereafter referred to as 'diff') in which the differences between consecutive version files are encoded as a set of instructions that enables their regeneration. With this in mind, we reviewed existing solutions for large text file versioning using the following criteria:We concluded that a large FASTA file differential archiving system would have to be developed. Some NCBI reference databases provide daily diff files spanning the most recent month (e.g. ftp://ftp. ncbi.nih.gov/genbank/daily-nc/) but no publically available clientside system exists for version update and retrieval. Git (http://gitscm.com), a file and code versioning tool, was evaluated as a possible solution but was found to be inefficient at versioning large FASTA files. As noted by Ram (2013) Git does not handle large datasets well, and must externalize them as separate files using tools like git-annex (https://git-annex.branchable.com). Our review of popular key-value databases (see Supplementary Data) found that they lack a versioning system for key-value contents.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2">Implementation</head><p>Our end-to-end versioned Data System combines BioMAJ version 1.2.3 (<ref type="bibr" target="#b1">Filangi et al., 2008</ref>) a flexible reference database download manager, with several versioning tool options and a user-friendly graphical interface (Galaxy).<ref type="figure">Figure 1</ref>shows our proof-of-concept implementation of a Galaxy interface to the Kipper, git, file-folder and Biomaj systems. BioMAJ places large multi-volume reference databases into a versioned folder structure, and can trigger download post-processes on them like Kipper diff transformation. Recently the BioMAJ team introduced a Galaxy tool that connects current BioMAJ downloads (https://www.e-biogenouest.org/resources/1397/download/AnthonyB retaudeau_Galaxy_Day_IFB_2014_BioMAJ2Galaxy.pdf). This nicely addresses the end-to-end data synchronization problem for current databases, but database versions are stored in full, so the storage space problem remains, and recall functionality can still be enhanced.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.1">Kipper</head><p>Kipper is a command-line file versioning solution we have created for key-value text records. It manages a simple key-value data store by keeping track of whether a given key is inserted, updated, or deleted for each version. It recalls versions by date or version id, and stores them in separate volume files when convenient. An additional JSON metadata file catalogs the data store's name, data type, volume(s) and versions. Version metadata can be downloaded separately to determine if a new version is available. Kipper currently accepts text files having tab or space delimited key-value records, as well as the standard multi-line FASTA format. For FASTA data, the unique sequence identifier (text between '&gt;'and first space) is used for key text. The remaining FASTA description and sequence becomes the value. In a volume each key-value record is stored as a line containing the following tab-delimited fields (see<ref type="figure" target="#tab_1">Table 1</ref>): creation version id (Ins), deletion version id (Del), key (Key) and value (Value). As they are sorted by key and then creation version id, consecutive records track a key-value's inserts, updates and deletes.<ref type="figure" target="#tab_1">Table 1</ref>shows an update to the description text for a FASTA RCSB Protein Database record with gene id 384482242. The first line shows the original record was inserted in (our) version 1. It is removed in version 3, and the following line re-inserts it with an additional associated gene id in version 3. The sequence is removed under this key in version 7 (elsewhere it actually lives on as a new gij817598624jpdbj4D0CjC record).</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="2.2">Galaxy versioned data tool</head><p>Like many labs, we are adopting Galaxy (<ref type="bibr" target="#b2">Giardine et al., 2005</ref>) for running bioinformatics tasks and workflows. Within this context, our Versioned Data tool provides an easy interface for retrieving multiple reference databases and derived products like NCBI-BLAST databases. This tool enables a user to select versioned datasets by name from a list (<ref type="figure">Fig. 1c</ref>). In a special Galaxy data library called 'Versioned Data' a Galaxy admin can arrange versioned data first by data source (NCBI, EBI, etc.) or by type (viral, bacterial, etc.) Individual data stores are set up within this hierarchy and are listed in the tool. A user can then select the current version, or a particular retrieval date or version number. Requested datasets are fetched from a cache if they exist there, otherwise the cache is populated with newly extracted data. Folder and BioMAJ interfaces do not need caching—they merely return links to permanent folder content. A Galaxy admin can also set up a set of post-processing workflows, such as BLAST (<ref type="bibr" target="#b0">Camacho et al., 2008</ref>) indexing, that users can trigger directly on retrieved datasets. The results are cached for reuse by other users. A cache-cleaning script can be run periodically to remove all but the latest cached version of any dataset.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head n="3">Discussion</head><p>We have found that Kipper can version 50 Gbþ text files that other archiving systems like git have no capacity for. There are a fewThe standardization of reference databases by date of publication is a key problem for experimental replication in the bioinformatics realm. The community needs to develop a basic metadata standard for reference database sharing. Towards this goal, our Kipper versioning and archiving system brings reference database reproducibility, ease of use and lower maintenance costs to existing server infrastructure. We welcome partnerships to extend the Kipper data store functionality, and we encourage reference database providers to consider Kipper for convenient version storage, recall and publishing.</p></div><figure xmlns="http://www.tei-c.org/ns/1.0" type="table" xml:id="tab_1" validated="true"><figDesc>Table 1. Kipper record format example</figDesc><table>Ins Del Key 
Value 

1 
3 
gij384482242j 
pdbj2YF5jC 

Chain C, Complex Of A B21 Chicken 
Mhc Class I Molecule And A 10mer 
Chicken Peptide TAGQSNYDRL 
3 
7 
gij384482242j 
pdbj2YF5jC 

Chain C, Complex Of A B21 Chicken 
Mhc Class I Molecule And A 10mer 
Chicken Peptide^Agij817598624j 
pdbj4D0CjC Chain C, Complex Of A 
B21 Chicken Mhc Class I Molecule 
And A 10mer Chicken Peptide 
TAGQSNYDRL 

</table></figure>

			<note place="foot">at :: on August 30, 2016 http://bioinformatics.oxfordjournals.org/ Downloaded from</note>

			<note place="foot">D.M.Dooley et al. at :: on August 30, 2016 http://bioinformatics.oxfordjournals.org/ Downloaded from</note>
		</body>
		<back>

			<div type="acknowledgement">
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Acknowledgements</head><p>More information about the project can be found at http://www.irida.ca.</p></div>
<div xmlns="http://www.tei-c.org/ns/1.0"><head>Funding</head></div>
			</div>

			<div type="references">

				<listBibl>

<biblStruct   xml:id="b0">
	<analytic>
		<title level="a" type="main">BLASTþ: architecture and applications</title>
		<author>
			<persName>
				<forename type="first">C</forename>
				<surname>Camacho</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">BMC Bioinformatics</title>
		<imprint>
			<biblScope unit="volume">10</biblScope>
			<biblScope unit="page">421</biblScope>
			<date type="published" when="2008" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b1">
	<analytic>
		<title level="a" type="main">BioMAJ: a flexible framework for databanks synchronization and processing</title>
		<author>
			<persName>
				<forename type="first">O</forename>
				<surname>Filangi</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Bioinformatics</title>
		<imprint>
			<biblScope unit="volume">24</biblScope>
			<biblScope unit="page" from="1823" to="1825" />
			<date type="published" when="2008" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b2">
	<analytic>
		<title level="a" type="main">Galaxy: a platform for interactive large-scale genome analysis</title>
		<author>
			<persName>
				<forename type="first">B</forename>
				<surname>Giardine</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Genome Res</title>
		<imprint>
			<biblScope unit="volume">15</biblScope>
			<biblScope unit="page" from="1451" to="1455" />
			<date type="published" when="2005" />
		</imprint>
	</monogr>
</biblStruct>

<biblStruct   xml:id="b3">
	<analytic>
		<title level="a" type="main">Git can facilitate greater reproducibility and increased transparency in science</title>
		<author>
			<persName>
				<forename type="first">K</forename>
				<surname>Ram</surname>
			</persName>
		</author>
	</analytic>
	<monogr>
		<title level="j">Source Code Biol. Med</title>
		<imprint>
			<biblScope unit="volume">8</biblScope>
			<biblScope unit="page">7</biblScope>
			<date type="published" when="2013" />
		</imprint>
	</monogr>
</biblStruct>

				</listBibl>
			</div>
		</back>
	</text>
</TEI>