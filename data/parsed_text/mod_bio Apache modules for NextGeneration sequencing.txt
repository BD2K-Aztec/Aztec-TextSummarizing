We describe mod_bio, a set of modules for the Apache HTTP server that allows the users to access and query fastq, tabix, fasta and bam files through a Web browser. Those data are made available in plain text, HTML, XML, JSON and JSON-P. A javascript-based genome browser using the JSON-P communication technique is provided as an example of cross-domain Web service. Availability and implementation: https://github.com/lindenb/mod_ bio. Contact:
INTRODUCTIONThe open-source Apache HTTP Server is the most widely used Web server (http://en.wikipedia.org/wiki/Apache_HTTP_ Server). It has a generalized programming interface extending the functionality of the basic server. Those pieces of C code, named 'modules', register custom hooks in the core server. A module has an access to the server's data structures and is able to customize the response back to the client. The Apache server is used by the main centers in bioinformatics like the NCBI, UCSC, Ensembl, 1000Genomes and most of the time, they provide an online area where the users can download some structured raw files. It is often a FTP server, which can go with a HTTP server: at the time of writing, the 1000Genomes data are available through both protocols. Common tasks such as getting the first lines of a file or accessing the data in a given genomic region are easily provided using standard linux tools or using the coordinate-sorted index of samtools () and tabix (), but this index needs to be downloaded, and it remains difficult for the biologists to quickly get an overview of those data. An interactive program such as Integrative Genomics Viewer (IGV) () allows viewing the content of a remote BAM file but the index for the file must be downloaded too, and interaction is limited to the software itself. The Distributed Annotation System (DAS) () protocol was also developed to answer those coordinate-based queries, but the response is limited to the XML format, and it requires to define a registry and some entry points, and it doesn't allow to fetch the original data. Ultimately, it becomes hard to develop some Web interactive applications, which need to access remote data without downloading the whole dataset, especially because of cross-site scripting security issues. A first way to circumvent this problem is to return a JSON-P document, a communication technique used in Javascript programs to request data from a server in a different domain. Another solution is to enable the server to use the 'Cross-origin resource sharing' (CORS) protocol, a strategy implemented by the 'Dalliance genome browser' (). Dalliance uses CORS in combination of the HTTP 'Range:' header to fetch chunks of NGS data, but it depends of multiple javascript libraries, and the whole indexes for the BAM or Tabix files must be loaded in the browser's memory.
RESULTSTo answer those issues, we have developed mod_bio, a set of apache modules providing a user-friendly overview of the bioinformatics files through a Web browser. Modules are activated using the files extensions and thus, there is no need to index documents in a database on the server side. In practice, when a remote directory is listed in a Web browser, the files managed by mod_bio are displayed with some extra hyperlinks that offer the possibility to display the contents in a browser using the following alternative formats: modules are able to print the data in HTML or plain text but also provide an option to retrieve the data using the XML or JSON formats. Coordinate-sorted indexed files like BAM or tabix-indexed files can be queried by specifiying a genomic range in the URL (). A module named 'mod_fastq' handles Fastq files () and displays the first short-reads of a file, giving an overview of the length of the reads of the platform used for sequencing. A second module named 'mod_faidx' retrieves fragments of Fasta reference sequences indexed with 'samtools faidx' (). Another module 'mod_tabix' retrieves genomic data such as VCF or GFF files that have been compressed with 'bgzip' and indexed with 'tabix' (). Finally, the module named 'mod_bam' handles the SAM alignments in a BAM file (). If the server does not support CORS a supplementary parameter 'callback' in the URL turns each JSON output into a JSON-P document. The module mod_bio interacts smoothly with the other apache modules like 'mod_deflate', which compresses the response sent to the client over the network. Hence, Apache server using mod_bio are turned into a real Web service for bioinformatics. mod_bio was developed in the C programming language. It is heavily based on 'htslib', the core C library of samtools, bcftools and tabix (https://github.com/ samtools/htslib).In the end, for the system administrators, mod_bio provides a quick way to expose their data through a Web service or a Web browser. Biologists will find here an interface to explore the data. Future developments will include the support of other indexed formats like BigWig, BigBed and Cram () and consolidating the output formats to fit formal specifications like those defined by the 'Global Alliance for Genomics and Health' (https://github.com/ga4gh/schemas). The source code of mod_bio is available on https://github.com/ lindenb/mod_bio. We also have installed a demo server of mod_bio on http://cardioserve.nantes.inserm.fr/lindenb/mod_ bio/00EXAMPLE.html. This demonstration includes a JSONP dynamic Web browser displaying a BAM and its reference sequence using the Canvas HTML5 element. We believe that mod_bio can be used to release structured scientific data publicly. It provides a quick interface to get an overview of 'Next-Generation Sequencing' output files.. The client sends GET requests to the HTTP server running mod_bio. Parameters like 'region' and 'format' modify the normal response of the server which returns structured data (XML, JSON,. . .) back to the client where it can be gathered by a custom tool such as a 'Genome Browser'
The Author 2014. Published by Oxford University Press. All rights reserved. For Permissions, please e-mail: journals.permissions@oup.com at :: on August 30, 2016 http://bioinformatics.oxfordjournals.org/ Downloaded from
mod_bio at :: on August 30, 2016 http://bioinformatics.oxfordjournals.org/ Downloaded from
