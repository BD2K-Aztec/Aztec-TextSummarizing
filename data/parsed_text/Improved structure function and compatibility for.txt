There is a strong and growing need in the biology research community for accurate, automated image analysis. Here, we describe CellProfiler 2.0, which has been engineered to meet the needs of its growing user base. It is more robust and user friendly, with new algorithms and features to facilitate high-throughput work. ImageJ plugins can now be run within a CellProfiler pipeline.
INTRODUCTIONCellProfiler is freely available, open-source software that enables researchers without training in computer programming to measure biological phenotypes quantitatively and automatically from thousands of images. With an interface designed by biologists and underlying algorithms developed by computer scientists, CellProfiler bridges the gap between advanced image analysis algorithms and scientists who lack computational expertise. In the 4 years since its publication (), it has been rapidly adopted by the worldwide biological community and cited in more than 250 articles. Roughly half of its users are outside the USA. CellProfiler was initially designed for high-throughput image analysis but is often used for small-scale projects. This highlights the trend toward quantifying information in images regardless of experiment size. CellProfiler's interface lets researchers build customized chains of interoperable image analysis modules to identify and measure biological objects and features in images. These modular pipelines can be saved and shared with colleagues. CellProfiler has been used to measure individual cells, colonies of cells and whole organisms in a wide range of assays (e.g. counting cells, measuring staining intensities and scoring complex phenotypes with machine * To whom correspondence should be addressed. learning) and at many experimental scales (from a few to hundreds of thousands of images). A variety of cell types have been analyzed, including budding yeast, Drosophila, mouse, rat and dozens of human cell types. The diverse measurements generated by CellProfiler provide raw material for machine-learning algorithms that can identify challenging phenotypes (). CellProfiler fills a unique role in the software landscape. It is a modular, high-throughput, open-source biological image analysis package, and it won the 2009 Bio-IT World Best Practices Award in IT & Informatics. CellProfiler 2.0 improves upon the design of the original version, resulting in professionally engineered software with improved usability and functionality, as well as integration with other open-source image-related software.
IMPROVEMENTS IN CELLPROFILER 2.0Robust infrastructure and interoperability: we redesigned the software's infrastructure while porting it from the proprietary MATLAB language to the open-source Python language, making use of the high-performance scientific libraries NumPy and SciPy (). While retaining the successful attributes of CellProfiler 1.0 (Supplementaryand), CellProfiler 2.0 compares favorably to CellProfiler 1.0 in terms of performance (Supplementary) and features (Supplementary). Object-oriented design and professional software practices were integral to the porting effort, including version control, a continuous build process and the development of an extensive validation suite. CellProfiler 2.0 is designed to be extensible and interoperable; its plug-in interface allows outside developers to write and distribute new CellProfiler modules. We use Cython (http://www.cython.org) to implement computationally intensive algorithms, as well as bridge to precompiled libraries including Java via the Java Native Interface. The Java/Python bridge allows CellProfiler 2.0 to load nearly 100 image formats via the Open Microscopy Environment Consortium's Bio-formats library (http://www.loci .wisc.edu/software/bio-formats). Because 5% of CellProfiler-citing papers also used ImageJ (http://rsbweb.nih.gov/ij), we built a bridge to run ImageJ macros in the context of a CellProfiler pipeline. In our own research, we have used third-party ImageJ plug-ins via CellProfiler to enhance neurites in images (Supplementary) and detect focal planes in three-dimensional images.
L.Kamentsky et al.
User-oriented improvements:CellProfiler 2.0 has a muchenhanced user interface for editing pipelines (), including dragand-drop operations, context-sensitive menus, undo capabilities, user-friendly error reporting and context-dependent warnings for mistakes in a pipeline's settings (Supplementary). A newly designed test mode allows a researcher to step through a pipeline and repeatedly adjust settings (Supplementary) to optimize image analysis. Within each module, CellProfiler shows only those settings relevant to the user's existing choices, resulting in a concise and comprehensible display. Extensive context-dependent help guides users in choosing settings for their assay (Supplementary). Pipelines are now saved in a human-readable text format (Supplementary Material: Example CellProfiler 2.0 pipeline file). New and improved algorithms: for neuron image analysis, CellProfiler 2.0 includes operations to enhance neurites and to measure their branching, and algorithms for neuron-specific metrics are in development. An updated time-lapse object-tracking module implements a recently developed algorithm based on a linear assignment approach (). New morphological operations can find the convex hull of foreground objects and enhance dark holes in images. Illumination correction options now include spline fitting (), and thresholding options have been extended to partition intensities into three classes instead of the typical two. Other changes include an algorithm for more accurate operations on masked images (), faster measurement of Zernike-based shape features (Supplementary) and improved measurement of Gabor (Supplementary) and Haralick texture features (Supplementary). Enhancements for high-throughput use: CellProfiler can be run in batch mode: sets of images are partitioned between CellProfiler instances running on separate computing cores or cluster nodes in a distributed environment. In CellProfiler 2.0, images can be loaded via HTTP or located based on a comma-delimited text file containing image file locations, which might be generated by automated microscopes or laboratory information systems. Metadata about the images can also be loaded similarly. CellProfiler 2.0 has enhanced database capabilities and is now able to upload directly to MySQL or SQLite databases during image processing. CellProfiler 2.0's FlagImage module can exclude images from analysis based on measurements of image quality, such as blurriness and presence of debris. Images can be grouped for aggregate operations, such as illumination correction of images on a per-plate basis or analysis of multiple time-lapse movies or three-dimensional image stacks. More detailed information on CellProfiler and high-throughput screening is available at http://www.cellprofiler.org/hcs.html. Future directions: we will use the improved infrastructure and design of CellProfiler 2.0 as the basis for our future work. Where feasible, we will continue to leverage existing open-source projects to add functionality, such as software for workflow management (e.g. OMERO and KNIME) and classification of pixels or whole images by machine learning (e.g. Wndchrm and Ilastik). While supporting contributions from other developers, we will also develop novel algorithms for CellProfiler based on our ongoing research, including time-lapse and three-dimensional image analysis, metrics and corrections for assay quality control and performance evaluation and algorithms for Caenorhabditis elegans image-based screens ().
The Author 2011. Published by Oxford University Press. All rights reserved. For Permissions, please email: journals.permissions@oup.com
at :: on August 30, 2016 http://bioinformatics.oxfordjournals.org/ Downloaded from [11:55 5/4/2011 Bioinformatics-btr095.tex]
at :: on August 30, 2016 http://bioinformatics.oxfordjournals.org/ Downloaded from
